<!DOCTYPE html>
<html>

<head>
    <title>Range Mapper | North America</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://libs.cartocdn.com/carto-vl/v1.4.4/carto-vl.min.js"></script>
    <script src="https://api.tiles.mapbox.com/mapbox-gl-js/v1.0.0/mapbox-gl.js"></script>
    <link href="https://api.tiles.mapbox.com/mapbox-gl-js/v1.0.0/mapbox-gl.css" rel="stylesheet" />
    <link href="https://carto.com/developers/carto-vl/examples/maps/style.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>

    <!-- Map div -->
    <div id="map"></div>

<aside class=toolbox id="animation-toolbox">
    <div class="box" id="animation-box">
        <header>
            <h1 id="animation-header"> Range Mapper</h1>
            <!-- dropdown selector -->
                <select id="continent-selector" onchange="setContinent()">
                    <!-- <option selected = "selected"></option> -->
                    <option value="northamerica">North America</option>
                    <option value="europe">Europe</option>
                    <option value="australia">Oceania</option>
                </select>
        </header>
        <section id="animation-section">
            <p class="animation-rangebar" id="legend-head-text">Years Before Present: <span id="js-current-time" id="open-legend-head-text"></span>
            </p>
        </section>
        <section id="animation-section">
            <p class="animation-rangebar">
                <!-- <button id="js-play-pause-button"><img src="images/play.png"></button> -->
                <button id="js-play-button"><img src="images/play.png"></button>
                <button id="js-pause-button"><img src="images/pause.png"></button>
                <input type="range" id="js-time-range" min="0" max="1" step="0.03">
            </p>
        </section>
        <br/>
        <section id="animation-section">
            <span class="animation-rangebar">Duration (seconds):</span>
                <input type="range" id="js-duration-range" min="10" max="42" step="2">
                <span style="margin-left: 5px" class="open-sans" id="js-duration-span"><p id = durationid></p></span>
        </section>
    </div>
</aside>

<div id="loader">
    <div class="CDB-LoaderIcon CDB-LoaderIcon--big">
        <svg class="CDB-LoaderIcon-spinner" viewBox="0 0 50 50">
            <circle class="CDB-LoaderIcon-path" cx="25" cy="25" r="20" fill="none"></circle>
        </svg>
    </div>
</div>

<!-- Legend -->
<section class="toolbox">
    <div class="box" id="legend-box">
        <header id="legend-head-text">
            <div>Percent Abundance</div>
        </header>
        <!-- Add legend data -->
        <!-- <section class="legend-section"> -->
        <div id="controls" class="legend-controls">
            <ul id="content" class="legend-content"> </ul>
        </div>
        <div id="logo-div"> <img id="neotoma-logo" src="images/neotoma.jpeg" alt="neotoma">
        </div>
    </div>
</section>


<div id="menu">
    <header id="legend-head-text">Taxa</header>
</div>


<script>

// Define sources
const allSource = new carto.source.SQL(`
  SELECT *
    FROM populated_places
`);
const europeSource = new carto.source.SQL(`
  SELECT *
    FROM CartoInput_dummy
    WHERE adm0name = 'Europe'
`);
const northamericaSource = new carto.source.SQL(`
  SELECT *
    FROM CartoInput_dummy
    WHERE adm0name = 'Namerica'
`);
const oceaniaSource = new carto.source.SQL(`
  SELECT *
    FROM CartoInput_dummy
    WHERE adm0name = 'Australia'
`);

function setContinent() {


  citiesLayer.update(europeanCitiesSource, citiesViz);
}

// function updateExtent(){
    var map = new mapboxgl.Map({
        container: 'map',
        style: carto.basemaps.positron,
        center: currentExtent,
        zoom: 3
    });
// }
// updateExtent()
// const nav = new mapboxgl.NavigationControl({
//     showCompass: false
const nav = new mapboxgl.NavigationControl();
map.addControl(nav, 'bottom-left');
// });
carto.setDefaultAuth({
    username: 'aegeorge2',
    apiKey: 'heU_1wb2M466etB6mh-UjA'
});



        function hideLoader() {
            document.getElementById('loader').style.opacity = '0';
        }


        </script>

    </body>

    </html>
